---
layout: post
title:  我的PC简史（二）
category: my story 
---

* toc
{:toc}

# PC篇（续）

## 8.我的第五台PC（2020）

2020.3

台式机一直是爸妈在用。而我的那台2012年购置的本本，经过近8年时间，已经很显老态。平时用着Ubuntu还算将就。近期由于新冠疫情，需要远程办公。可VPN客户端只有Windows和Mac。。。切换到Windows之后，瞬间觉得简直无法工作的样子。

再考虑到前面的电脑，都是在第8年出了问题。看来是时候换新电脑了。

为了奖励华硕电脑以往的品质，这次仍然是它了。

华硕 飞行堡垒7代 15.6英寸笔记本电脑 AMD Ryzen 7 3750H with Radeon Vega Mobile Gfx 内存32G SSD512GB+机械硬盘1TB GTX1650 4G独显 7000元

这次最大的提升主要是：

- SSD果然系统启动速度超快。

- 终于可以用gitk完整加载Linux的repo了，总共花了8GB空间。如果算上OS占用的空间的话，没有12GB以上的内存，还是不要尝试了。

- CPU升级到4核8线程，更给力了。

操作系统在2015年升级为Windows 10，这次更是出厂原装。再早一点在公司用过一段Windows 8.1，用的不多。

当然了，自2013年以来，我95%以上的时间都待在Ubuntu上，Windows好坏与否，其实和我意义不大了。

## 9.我的第六台PC（2021）

2021.3

上台台式机经过5年半的折腾，从去年开始，先后出了一些问题。

先是一块硬盘的引导区坏了，由于不是系统盘，直接拆下了事，反正硬盘也用不完。

不料过了两个月，另一块也坏了，还是引导区。。。只好U盘重装OS，居然还行。。。

又过了四个月，新OS又罢工了。。。心累了，不想拯救了。。。换机吧。。。开关也不行了，必须用OS的关机菜单才能关，实体键只能开，不能关。。。

组装机看来是彻底不行了，不但电脑城已经完蛋了，就连京东都没有多少这样的店了。

2009年，不再鼓励电子卖场。

2015年，中关村大街发展规划表示，未来3年至5年时间里，中关村地区将完成转型工作，并彻底的告别电子卖场。

https://new.qq.com/omn/20201016/20201016A0F0Y500.html

电子大卖场“落幕”！鼎好大厦关停，传统电子卖场走向没落？

这次选的是：

联想 天逸510S AMD 3050U 16G 512G+1T 2900元。

2021.9

表妹读研，要换一个新的笔记本电脑：

华硕（ASUS）VivoBook15 15.6英寸IPS屏 I7-1165G7 锐炬XE显卡 24G内存 512G固态+1T机械

## 10.我的第七台PC（2024）

2024.8

2020年买的那台笔记本，最近用着用着，突然就开不了机器了。考虑到5年的换机周期也就还有半年左右了，产品也过了保修期，修好也不见得能用多久，还可能被修理商坑一笔：本次大概率是主板坏了，要是借口换新主板，花个1K～2K都有可能。而同型号的二手好机的报价大概也就2500左右。

所以还是买个新的：

华硕 天选5代 15.6英寸笔记本电脑 AMD Ryzen 7 8845H 内存64G SSD 2TB+2TB RTX4050 6G独显 9500元

---

旧电脑的硬盘卸下来了，M2 SSD配上外接硬盘盒，确实比U盘大不了多少，挺方便的。

之前为了存储数据方便，买了一个SATA 3.5寸的硬盘盒，实际上2.5寸硬盘同样可以装的上，无非盒子内部比较空罢了。

2.5寸盘的厚度也是一个重要指标。10年前买了一个12.5mm厚的500GB的盘，结果直接硬盘盒子盖不上。当时的主流还是9.5mm。

现在被拆下来的是7mm的1TB盘，同厚度目前已有2TB的版本。

---

这些年来，个人攒下来850G左右的数据。按说之前的1.5TB是够了，但是一来现在OS占用不是十几年前可比，二来我还是Win+linux双系统，OS+常用软件+虚拟内存，一个要100GB，两个就要200GB。为了磁盘健康考虑（尤其SSD是有写次数的限制的），还要留下10%的空间，剩下的空间可就不多了。

相比于10年前的800GB数据，视频占比有所下降。当时很多片纯属占空间，闲着也是闲着。现在基本都是精华，不忍删了。

游戏占比上升，现在的游戏安装包40G的不在少数。解压占比还要再加个50%。装上几个，空间就耗的七七八八了。

甚至就连本blog，在本地部署，也要750M了。

---

旧本本虽然是双显卡，但是只有核显接显示器。独立显卡只负责渲染，然后把渲染结果发送给核显。

这种方式，多数情况下当然也没有太大的问题，然而有的游戏兼容性不行，比如《三国全战》，需要独显出力的时候，反而黑屏罢工了。。。

新本本可以独显直连，就没有这个问题了。

## 11.我的第八台PC（2024）

2024.11

2021年买的那台PC，最近也坏了。家里有孩子闹腾，PC不扛揍倒也正常。

上台PC，光顾着追求轻便了。Mini机箱，实则采用的是笔记本的主板和CPU。除了内存大和使用SSD之外，其他性能实际上还不如2015年的那台PC。

考虑到这台机器的定位，只是给老婆孩子上网。所以直接买了一台最便宜的。

华硕 Intel i3 2310 CPU（双核4线程）+ 8G内存 + 128G SSD + 512G HDD 587元。

PS：新PC意外的受到儿子的欢迎。。。囧

## 其他PC

| 时间 | RAM | 硬盘 | 显示器 |
|:--:|:--:|:--:|:--:|
| 2011 | 2G | 500G | 22 |
| 2014 | 4G | 500G | 19 |
| 2017 | 8G+8G | 1T | 22 |
| 2017 | 8G+8G | 1T | 24 |

https://zhuanlan.zhihu.com/p/70571146

31年的记忆：14张图带你回顾Windows进化史

# CUDA+

`#pragma unroll`指令建议编译器完全展开for循环。如果N是一个常量，编译器会尝试将循环体展开N次。如果N不是一个常量或者太大而无法完全展开，编译器可能会忽略这个指令，或者展开一定次数的迭代。

---

因为GPU不支持常规的Kernel递归，CPU上的很多递归算法只能换思路后进行改写，不能直接按原思路实现。而随着动态并行（Dynamic Parallelism）的引入，GPU现在能直接在Kernel中启动Kernel了。

https://zhuanlan.zhihu.com/p/674856090

CUDA动态并行详解（CDP2）

---

在“blocked”排列中，每个线程拥有一组连续的数据项；在“striped”排列中，所有线程拥有的数据项交错存储。

---

早期的GPU硬件上只有一个execution engine，因此，不论是哪个进程、哪个线程发起的kernel launch，都在同一个队列里排队。

随着GPU的发展，GPU上面开始出现了多个execution engine。

一个stream就对应于一个执行队列（加一个执行单元），用户可以自行决定是否把两个kernel分开放在两个队列里。

https://zhuanlan.zhihu.com/p/699754357

一文读懂cuda stream与cuda event

---

pytorch CUDA RadixSort call stack：

```cpp
MediumRadixSort
should_use_small_sort
sortKeyValueInplace
launch_stable_sort_kernel
segmented_sort_large_segments
radix_sort_pairs_impl
NO_ROCM(at_cuda_detail)::cub::DeviceRadixSort::SortPairs
cub::DeviceRadixSort::SortPairs
DeviceRadixSort::custom_radix_sort
DispatchRadixSort::Dispatch
DeviceRadixSortSingleTileKernel
triple_chevron
BlockRadixSort
BlockRadixSortT(temp_storage.sort).SortBlockedToStriped
RankKeys
DescendingBlockRadixRank
BlockRadixRank
```

---

https://developer.nvidia.com/blog/even-easier-introduction-cuda/

An Even Easier Introduction to CUDA

http://ishare.iask.sina.com.cn/f/17211495.html

深入浅出谈CUDA技术

http://blog.csdn.net/xsc_c/article/category/2186063

某人的并行计算专栏

https://mp.weixin.qq.com/s/9D7uda3CV7volenhl-jchg

推荐几个不错的CUDA入门教程

https://mp.weixin.qq.com/s/bvNnzkOzGYYYewc3G9DOIw

GPU是如何优化运行机器学习算法的？

https://mp.weixin.qq.com/s/nAwxtOUi6HpIjVOREgEfaA

CUDA编程入门极简教程

https://mp.weixin.qq.com/s/-zdIWkuRZXhsLJmOZljOBw

《基于GPU-多核-集群等并行化编程》

https://mp.weixin.qq.com/s/bCb5VsH58JII886lpg9lvg

如何在CUDA中为Transformer编写一个PyTorch自定义层

https://mp.weixin.qq.com/s/OYSzol-vufiKPuU9YxtbuA

矩阵相乘在GPU上的终极优化：深度解析Maxas汇编器工作原理

https://zhuanlan.zhihu.com/p/358220419

PyTorch自定义CUDA算子教程与运行时间分析

https://zhuanlan.zhihu.com/p/358778742

详解PyTorch编译并调用自定义CUDA算子的三种方式

https://zhuanlan.zhihu.com/p/360441891

熬了几个通宵，我写了份CUDA新手入门代码

https://mp.weixin.qq.com/s/EZxO8IIBDJ4c7eQhUffc2w

怎样节省2/3的GPU？爱奇艺vGPU的探索与实践

https://mp.weixin.qq.com/s/3VjGpyXZSkJhy6sFPUsZzw

GPU虚拟化，算力隔离，和qGPU

https://zhuanlan.zhihu.com/p/383115932

大佬是怎么优雅实现矩阵乘法的？

https://zhuanlan.zhihu.com/p/410278370

CUDA矩阵乘法终极优化指南

https://www.zhihu.com/column/c_1437330196193640448

深入浅出GPU优化

https://www.zhihu.com/question/41060378

自己写的CUDA矩阵乘法能优化到多快？

https://zhuanlan.zhihu.com/p/559957579

简单谈谈CUDA的访存合并

https://zhuanlan.zhihu.com/p/565897763

GPGPU编程模型之CUDA

http://blog.csdn.net/augusdi/article/details/12833235

这是一篇转帖的CUDA教程，原帖比较分散，不好看。

https://zhuanlan.zhihu.com/p/544864997

cuda中threadIdx、blockIdx、blockDim和gridDim的使用

https://zhuanlan.zhihu.com/p/690717002

一文读懂cuda代码编译流程

https://zhuanlan.zhihu.com/p/690880124

并不太短的CUDA入门（The Not So Short Introduction to CUDA）

https://zhuanlan.zhihu.com/p/693690123

一文读懂nvidia-smi背后的nvml库

https://www.zhihu.com/question/445590537

问个CUDA并行上的小白问题，既然SM只能同时处理一个WARP，那是不是有的SP处于闲置？
