---
layout: post
title:  机器学习（十九）——关联规则挖掘（1）
category: ML 
---

* toc
{:toc}

# 关联规则挖掘

## 基本概念

关联规则挖掘（Association rule mining）是机器学习的一个子领域。它最早的案例就是以下的**尿布和啤酒**的故事：

>沃尔玛曾今对数据仓库中一年多的原始交易数据进行了详细的分析，发现与尿布一起被购买最多的商品竟然是啤酒。   
>借助数据仓库和关联规则，发现了这个隐藏在背后的事实：**美国妇女经常会嘱咐丈夫下班后为孩子买尿布，而30%~40%的丈夫在买完尿布之后又要顺便购买自己爱喝的啤酒。**   
>根据这个发现，沃尔玛调整了货架的位置，把尿布和啤酒放在一起销售，大大增加了销量。

这里借用一个引例来介绍关联规则挖掘的基本概念。

| 交易号TID | 顾客购买的商品 | 交易号TID | 顾客购买的商品 |
|:--:|:--|:--:|:--|
| T1 | bread, cream, milk, tea | T6 | bread, tea |
| T2 | bread, cream, milk | T7 | beer, milk, tea |
| T3 | cake, milk | T8 | bread, tea |
| T4 | milk, tea | T9 | bread, cream, milk, tea |
| T5 | bread, cake, milk | T10 | bread, milk, tea |

**定义一**：设$$I=\{i_1,i_2,\dots,i_m\}$$，是m个不同的项目的集合，每个$$i_k$$称为一个**项目**。项目的集合I称为**项集**。其元素的个数称为项集的长度，长度为k的项集称为k-项集。引例中每个商品就是一个项目，项集为$$I=\{bread, beer, cake,cream, milk, tea\}$$，I的长度为6。

**定义二**：每笔**交易T**是项集I的一个子集。对应每一个交易有一个唯一标识交易号，记作TID。交易全体构成了**交易数据库D**，$$\mid D\mid$$等于D中交易的个数。引例中包含10笔交易，因此$$\mid D\mid=10$$。

**定义三**：对于项集X，设定$$count(X\subseteq T)$$为交易集D中包含X的交易的数量，则项集X的**支持度**为：

$$support(X)=\frac{count(X\subseteq T)}{\mid D\mid }$$

引例中$$X=\{bread, milk\}$$出现在T1，T2，T5，T9和T10中，所以支持度为0.5。

**定义四**：**最小支持度**是项集的最小支持阀值，记为$$SUP_{min}$$，代表了用户关心的关联规则的最低重要性。支持度不小于$$SUP_{min}$$的项集称为频繁集，长度为k的频繁集称为k-频繁集。如果设定$$SUP_{min}$$为0.3，引例中$$\{bread, milk\}$$的支持度是0.5，所以是2-频繁集。

**定义五**：**关联规则**是一个蕴含式：

$$R：X\Rightarrow Y$$

其中$$X\subset I$$，$$Y\subset I$$，并且$$X\cap Y=\varnothing$$。表示项集X在某一交易中出现，则导致Y以某一概率也会出现。用户关心的关联规则，可以用两个标准来衡量：支持度和可信度。

**定义六**：关联规则R的**支持度**是交易集同时包含X和Y的交易数与$$\mid D\mid$$之比。即：

$$support(X\Rightarrow Y)=\frac{count(X\cap Y)}{\mid D\mid }$$

支持度反映了X、Y同时出现的概率。关联规则的支持度等于频繁集的支持度。

**定义七**：对于关联规则R，**可信度**是指包含X和Y的交易数与包含X的交易数之比。即：

$$confidence(X\Rightarrow Y)=\frac{support(X\Rightarrow Y)}{support(X)}$$

可信度反映了如果交易中包含X，则交易包含Y的概率。一般来说，只有支持度和可信度较高的关联规则才是用户感兴趣的。

**定义八**：设定关联规则的最小支持度和最小可信度为$$SUP_{min}$$和$$CONF_{min}$$。规则R的支持度和可信度均不小于$$SUP_{min}$$和$$CONF_{min}$$，则称为**强关联规则**。关联规则挖掘的目的就是找出强关联规则，从而指导商家的决策。

这八个定义包含了关联规则相关的几个重要基本概念，关联规则挖掘主要有两个问题：

1.找出交易数据库中所有大于或等于用户指定的最小支持度的频繁项集。

2.利用频繁项集生成所需要的关联规则，根据用户设定的最小可信度筛选出强关联规则。

其中，步骤1是关联规则挖掘算法的难点，下文介绍的Apriori算法和FP-growth算法，都是解决步骤1问题的算法。

参考：

http://blog.csdn.net/OpenNaive/article/details/7047823

关联规则挖掘（一）：基本概念

# 东南亚+

2021年越南的胡志明市房价高于中国武汉，但人均GDP连武汉的一半都不到。

目前越南平均工资水平最高的三个省，月均工资都已经达到2500人民币以上，这跟中国中西部一些地方的工资水平大体相当了。

越南技术工人的薪水已差不多是老挝和缅甸的两倍，比泰国和菲律宾高出约30%-45%。

民众痛哭向高层喊话，“谁规定的征地补偿？一平米的土地就只值三碗粉钱”。

时任胡志明书记黎青海、副书记必成刚，落马被查。

时任胡志明副市长阮成才，陈永线，开除党籍。

时任胡志明建设厅厅长陈仲俊，开除党籍。

https://zhuanlan.zhihu.com/p/446914832

68万一平！越南凭啥能拍出最贵地王？

https://www.zhihu.com/question/533718393

越南各地现招工难，工资等远超去年却无人应聘，专家称越南劳动力已不再廉价，这意味着什么？

---

有一次陈赓将军给越军安排了一次伏击任务，结果遇到天降大雨，然后越军就自作主张的延迟出发一小时，气的将军大骂作战将领延误战机，结果不一会战报传来，越军大获全胜，原来法军也自发的延迟出发一小时，然后两边谁也没耽误，打了一场漂亮的伏击战。陈赓将军在日记写到:“法军与越军真是一对绝妙的对手。”

越南战争的总战略应该是首先夺取西北，进而向老挝的上寮地区挺进，建立宽广的战略迂回后方，然后从侧翼向越南南方推进，将法军主力拉到南方去，创造条件，最后攻取红河三角洲。

他们想走直路，可是这条路恐怕不能走。目前就打红河三角洲（越北平原），条件还不具备。还是要走迂回曲折的路，才能达到目的。这是中国几十年的革命经历所证明了的，我看越南革命也没有直路可走。你回去后，要对越南人民军的高级干部多做些解释说服工作。

https://www.99csw.com/book/9349/index.htm

越南密战·1950-1954中国援越战争纪实

---

不到一千吨的船，堆了8枚鱼叉，8联的海蝮蛇，76炮，两门双40炮，两座三联鱼雷管，再加上火控和搜索雷达。遇到大浪不翻才怪。

友鹤事件、平贺让、藤本喜久雄

https://www.zhihu.com/question/573053228

载106名官兵的泰国皇家海军“素可泰”号军舰沉没，造成沉没的原因是什么？目前救援状况如何？

---

当年泰国去沙特的务工人员里有一个人趁着为沙特王子工作的机会偷了沙特王室的一批珠宝，带回了泰国。沙特照会泰国抓住了这个人，但是泰国交还给沙特的珠宝，很多是赝品，而真的珠宝疑似到了泰国某些高层手里。沙特王室派出三个外交官和一个珠宝商到泰国，与泰国官方沟通继续查这个案子，结果不久之后这三个外交官与珠宝商，都死在泰国了。

澳洲外交部称泰国是“High degree of caution”——高危旅行地。他们提供的数据中显示，12个月中共有238名澳洲游客死于泰国。

《人皮客栈》电影里是斯洛伐克，但是原型是泰国，斯洛伐克其实不危险，事后斯洛伐克政府还起诉过。

https://www.163.com/dy/article/FHG79HKF0515GFNQ.html

中国大使馆发出警告：残杀多名中国公民，虐待50万奴隶；却还有一千万中国人要去！

---

1930年，越南党就宣告成立了。但是，不到一年，它在越南国内的有体系的组织就几乎全灭。于是，1934年在澳门成立以胡志明为首的＂海外领导委员会”作为代表，这表明其实此时越南党是没有变成一个有体系，有战斗力的集团，只是徒有其名。而在越南国内，残存的组织只好依靠不同地区的领导人的个人威信与魅力，来发展与壮大组织。其中，一北一南有两人最有成就。这就是现在越南国内南北两个派系的开创者即黎笋（南方派），长征（北方派）。

北方派：长征、杜梅、阮富仲。

南方派：黎笋、黎德英、武文杰、阮晋勇。

https://www.zhihu.com/question/263977912

谁能来科普一下越南南北派系的来历和矛盾缘由吗？

---

麓川王国、蒲甘王朝、勃固王朝、阿瓦王朝、东吁王朝、贡榜王朝。

缅甸三大帝：阿奴律陀（蒲甘王朝）、莽应龙（东吁王朝）、雍籍牙（贡榜王朝）。

麓川王朝的实力不在三大帝之下。但是由于其主要地盘是缅北+云南南部，和今天缅甸版图有较大差异，它甚至不被认为是缅甸的王朝。而三大帝虽然统一缅甸，但是并没有占据云南南部。

https://zhuanlan.zhihu.com/p/242294917

泰国，大战缅甸三百年！

https://www.zhihu.com/question/501195504

缅甸为何没有纳入清朝版图？

https://www.zhihu.com/question/547317808

为什么麓川战争无人知晓，瓦刺四部之一的准格尔却人尽皆知？

---

https://zhuanlan.zhihu.com/p/37928659

越南帝国扩张

https://zhuanlan.zhihu.com/p/303875663

从数据看越南制造对中国的威胁有多大？

https://mp.weixin.qq.com/s/NHkTQmJ3Jq1A3pgKI2DCeg

这是9·11事件后，全世界最严重的恐怖袭击（巴厘岛恐怖袭击）

https://zhuanlan.zhihu.com/p/377325999

改名泰国，激怒中国

https://mp.weixin.qq.com/s/61qqxaLhfcLSzbBi_x1XWw

亚洲第二富国菲律宾，如今却靠出口女佣赚钱

https://www.zhihu.com/question/456075868

南越F4到底是什么来头？

https://mp.weixin.qq.com/s/E-xJ1IGxklGpICFsrZla9Q

西贡铁拳在西贡？南越总崩溃时的照片何止这张被误解

https://www.zhihu.com/question/27700838

越南的军事实力有能力统一中南半岛吗？

https://www.zhihu.com/question/386153966

导致明朝最终放弃安南的主导因素是什么？

https://www.zhihu.com/question/292991962

如何评价越南军队？

https://www.zhihu.com/question/25673808

越南侵略柬埔寨的真实动机是什么？

https://zhuanlan.zhihu.com/p/627574646

考德维尔遇刺案再考
