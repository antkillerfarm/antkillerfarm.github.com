---
layout: post
title:  机器学习（十九）——关联规则挖掘（1）
category: ML 
---

* toc
{:toc}

# 关联规则挖掘

## 基本概念

关联规则挖掘（Association rule mining）是机器学习的一个子领域。它最早的案例就是以下的**尿布和啤酒**的故事：

>沃尔玛曾今对数据仓库中一年多的原始交易数据进行了详细的分析，发现与尿布一起被购买最多的商品竟然是啤酒。   
>借助数据仓库和关联规则，发现了这个隐藏在背后的事实：**美国妇女经常会嘱咐丈夫下班后为孩子买尿布，而30%~40%的丈夫在买完尿布之后又要顺便购买自己爱喝的啤酒。**   
>根据这个发现，沃尔玛调整了货架的位置，把尿布和啤酒放在一起销售，大大增加了销量。

这里借用一个引例来介绍关联规则挖掘的基本概念。

| 交易号TID | 顾客购买的商品 | 交易号TID | 顾客购买的商品 |
|:--:|:--|:--:|:--|
| T1 | bread, cream, milk, tea | T6 | bread, tea |
| T2 | bread, cream, milk | T7 | beer, milk, tea |
| T3 | cake, milk | T8 | bread, tea |
| T4 | milk, tea | T9 | bread, cream, milk, tea |
| T5 | bread, cake, milk | T10 | bread, milk, tea |

**定义一**：设$$I=\{i_1,i_2,\dots,i_m\}$$，是m个不同的项目的集合，每个$$i_k$$称为一个**项目**。项目的集合I称为**项集**。其元素的个数称为项集的长度，长度为k的项集称为k-项集。引例中每个商品就是一个项目，项集为$$I=\{bread, beer, cake,cream, milk, tea\}$$，I的长度为6。

**定义二**：每笔**交易T**是项集I的一个子集。对应每一个交易有一个唯一标识交易号，记作TID。交易全体构成了**交易数据库D**，$$\mid D\mid$$等于D中交易的个数。引例中包含10笔交易，因此$$\mid D\mid=10$$。

**定义三**：对于项集X，设定$$count(X\subseteq T)$$为交易集D中包含X的交易的数量，则项集X的**支持度**为：

$$support(X)=\frac{count(X\subseteq T)}{\mid D\mid }$$

引例中$$X=\{bread, milk\}$$出现在T1，T2，T5，T9和T10中，所以支持度为0.5。

**定义四**：**最小支持度**是项集的最小支持阀值，记为$$SUP_{min}$$，代表了用户关心的关联规则的最低重要性。支持度不小于$$SUP_{min}$$的项集称为频繁集，长度为k的频繁集称为k-频繁集。如果设定$$SUP_{min}$$为0.3，引例中$$\{bread, milk\}$$的支持度是0.5，所以是2-频繁集。

**定义五**：**关联规则**是一个蕴含式：

$$R：X\Rightarrow Y$$

其中$$X\subset I$$，$$Y\subset I$$，并且$$X\cap Y=\varnothing$$。表示项集X在某一交易中出现，则导致Y以某一概率也会出现。用户关心的关联规则，可以用两个标准来衡量：支持度和可信度。

**定义六**：关联规则R的**支持度**是交易集同时包含X和Y的交易数与$$\mid D\mid$$之比。即：

$$support(X\Rightarrow Y)=\frac{count(X\cap Y)}{\mid D\mid }$$

支持度反映了X、Y同时出现的概率。关联规则的支持度等于频繁集的支持度。

**定义七**：对于关联规则R，**可信度**是指包含X和Y的交易数与包含X的交易数之比。即：

$$confidence(X\Rightarrow Y)=\frac{support(X\Rightarrow Y)}{support(X)}$$

可信度反映了如果交易中包含X，则交易包含Y的概率。一般来说，只有支持度和可信度较高的关联规则才是用户感兴趣的。

**定义八**：设定关联规则的最小支持度和最小可信度为$$SUP_{min}$$和$$CONF_{min}$$。规则R的支持度和可信度均不小于$$SUP_{min}$$和$$CONF_{min}$$，则称为**强关联规则**。关联规则挖掘的目的就是找出强关联规则，从而指导商家的决策。

这八个定义包含了关联规则相关的几个重要基本概念，关联规则挖掘主要有两个问题：

1.找出交易数据库中所有大于或等于用户指定的最小支持度的频繁项集。

2.利用频繁项集生成所需要的关联规则，根据用户设定的最小可信度筛选出强关联规则。

其中，步骤1是关联规则挖掘算法的难点，下文介绍的Apriori算法和FP-growth算法，都是解决步骤1问题的算法。

参考：

http://blog.csdn.net/OpenNaive/article/details/7047823

关联规则挖掘（一）：基本概念

# 苏俄++

美国参议员麦凯恩公开宣称“俄国是个伪装成国家的加油站”。

俄罗斯造到一半的航母造不出，反而许诺可以给印度改装一艘；俄罗斯的导弹实验屡屡失败，反而要指导印度造导弹；俄罗斯自己的五代机上场转一圈就没消息了，倒是说可以卖给印度几架，只是要先付款。

苏联解体后，特工的素质一落千丈，更因为意识形态光环的崩溃，失去了意识形态的支撑。美俄交换特工的时候，竟然还有不少俄罗斯特工不愿回国。

俄罗斯航空业已经造不出合格的NK-32发动机了。直到近年，经过“考古式”搜索，找回了部分失踪的关键历史资料，俄罗斯工厂才突破技术难题。

https://zhuanlan.zhihu.com/p/585321914

《马经·俄乌战争》马前卒对俄乌战争预言一览（黄金版）

---

苏联的“三和两全”理论：和平共处、和平竞赛、和平过渡，全民国家、全民党。

---

因为普京带货，俄罗斯冰淇淋店爱思贝瑞 (iceberry)还蛮火的，就顺利在国内市场扎根了。

---

1919年1月6日晚，列宁和妹妹还有警卫员开车行驶在莫斯科市内，被劫匪当街抢劫，汽车、手枪、钱财、证件，都被抢走了……幸亏这几个只是单纯图财的普通匪徒，不是政治土匪，看列宁这几个人很配合没反抗，就把他们丢在路边开车走人了。路上几个匪徒清点战利品，翻看证件的时候，才知道自己捅破了天。契卡一开始去逮人还被反杀了两。

苏俄刚建国时遍地盗匪，最牛逼的是一对演员和导演，他们利用拍电影要四处取景的便利，每到一地都要去作案，实属是人生如戏了。

伽莫夫自传写的，俄国国内战争时期乌克兰敖德萨郊外。

教授被劫匪抢了。

教授：我是教授。

劫匪：好那你来讲讲麦克劳林展开式。

教授解出来了，劫匪给他放了。

---

1950年，斯大林亲自下令将因战争致重残者全部赶出城市，所谓的重残，就是指四肢全部截除、只剩躯干的残疾人。他们被流放到了卡雷利阿环境恶劣的瓦拉姆岛上，由于卫生条件极差，没电，没暖气，许多人第一年冬天就死了。——这段引自《红军的伟大与悲剧，1941-1945年未曾刊发的证言集》中苏联老兵的访谈回忆。

https://www.zhihu.com/question/427637446

有人知道一些二战苏军士兵的回忆录吗?

---

![](/images/img5/oil.webp)

布伦特油价变化

---

孩子，你说的那种好日子，我是活不到了……你爷爷就是这个样子，脾气特别古怪。他是个水兵，可是真像个土匪，愿上帝饶恕我这么说！那年他在塞瓦斯托波尔打仗，回到家里，只剩了一只胳膊一条腿。胸口倒是戴上了两个十字奖章，还有挂在丝带上的两个五十戈比银币，可是到后来老头还是穷死了。他性格可倔强了。有一回他用拐棍敲了一个官老爷的脑袋，为这事蹲了差不多一年大牢。十字奖章也没帮上忙，人家照样把他关了起来。我看你呀，跟你爷爷一模一样……

---

格里夫纳（Гривня、Grivnia，也译“吉亚”）最初是重量单位，也称斯拉夫磅，约合410克。后用作银锭重量单位，再演变为乌克兰的货币单位。字母缩写代码为UAH。

---

十月革命后的大部分时期物资都供应缺乏，训练出了苏联人的排队文明，可称为世界上最好，规规矩矩，有条不紊，很少有插队的和一拥而上的。“谁是最后一位？”是在苏联生活必须学会的一句俄语。

---

1970年埃以消耗战争，以色列空军一直保持对埃及境内的轰炸，甚至直接炸了在开罗郊外的苏联技术人员。埃及向苏联抱怨你们提供的防空导弹和米格21不给力，苏联说是你们飞行员太菜，埃及说你那么强你自己来打试试。然后苏联派了18特别防空导弹师进驻埃及，全都是苏联自己的人员操纵的米格21-MF，S-75和S-125防空导弹连。

1970年7月30日以色列空军决定进行一次诱导空战，给苏联的军援一个下马威以结束对以色列不利的消耗战争。总共出动了12架幻影3C和4架F-4E，诱导了苏联紧急起飞了24架米格21拦截，结果。。。

在米格21引以为傲的近距离交战中，被以色列空军打了个0-5，死了四个苏联飞行员不说，其中两个还是米格21中队指挥官Nikolai P. Yurchenko和Yevgenniy A. Kamenev。

这场空战过于一边倒，以至于都被埃及军方笑话，因为以色列空军这种少数幻影3诱导，然后凭借F-4E雷达伏击拦截部队的战术，埃及空军早都熟悉了，是不会派那么多米格去拦截的。

苏联武器在正主手里只是更拉，戈兰高地打得再丢人，叙利亚军队至少坚决猛攻了，东73高地的麦地那装甲师，也是力战而亡的，俄军近坦四师走着走着自己就崩溃了···

https://www.zhihu.com/question/357291561

俄制武器装备真像某些人说的那么不堪吗？

https://new.qq.com/rain/a/20210125a0glri00

东73之战：美军坦克团借助GPS穿越大沙漠，击溃伊拉克装甲师！

---

坦波夫的大规模农民暴动的原因之一，是布尔什维克的过度征粮和饥荒威胁导致，而在镇压过程中，图哈切夫斯基使用了毒气弹。

https://www.zhihu.com/question/498278372

想问一下“毒气征粮”最早是怎样传开的？

---

“剑桥五杰”（Cambridge Five）是克格勃历史上非常重要的人物。克格勃始终认为这五名来自剑桥的间谍是那时招募来的最实干的优秀外国间谍。他们虽然出身贵族，但是却是最坚实的共产主义信仰者。
